//
//  ChatRouter.swift
//  Plantory
//
//  Created by ì£¼ë¯¼ì˜ on 7/25/25.
//

import Foundation
import Moya

enum ChatRouter {
    case postChat(chatData: ChatRequest) // ì±„íŒ… ë³´ë‚´ê¸°
    case getLatestChat // ìµœì´ˆ ì§„ì… ì‹œ ì´ì „ ëŒ€í™” ê¸°ë¡ ì¡°íšŒ
    case getBeforeChat(beforeData: String) // ìµœì´ˆ ì´í›„, ì±„íŒ…ì°½ ìŠ¤í¬ë¡¤ ì—…
}

extension ChatRouter: APITargetType {
    var baseURL: URL {
        return URL(string: "\(Config.baseUrl)")!
    }
    
    var path: String {
        switch self {
        case .postChat:
            return "/chat"
        case .getLatestChat:
            return "/chat/latest"
        case .getBeforeChat:
            return "/chat/before"
        }
    }
    
    var method: Moya.Method {
        switch self {
        case .postChat:
            return .post
        default:
            return .get
        }
    }
    
    var task: Task {
        switch self {
        case .postChat(let chatData):
            return .requestJSONEncodable(chatData)
        case .getLatestChat:
            return .requestPlain
        case .getBeforeChat(let beforeData):
            return .requestParameters(parameters: ["before": beforeData], encoding: URLEncoding.queryString)
        }
    }
    
    var headers: [String: String]? {
        return ["Content-Type": "application/json"]
    }
    
    var sampleData: Data {
        let json: String
        switch self {
        case .postChat:
            json = """
            {
                "isSuccess": true,
                "code": "COMMON200",
                "message": "ì„±ê³µì…ë‹ˆë‹¤.",
                "result": "ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ ì–´ë–¤ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? í•¨ê»˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©° ë§ˆìŒì„ í¸í•˜ê²Œ í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”? ğŸ˜Š"
            }
            """
        case .getLatestChat:
            json = """
            {
                "isSuccess": true,
                "code": "COMMON200",
                "message": "ì„±ê³µì…ë‹ˆë‹¤.",
                "result": [
                    {
                    "content": "ìš°ìš¸í•  ë•ŒëŠ” ìš°ì„ ì ìœ¼ë¡œ ìì‹ ì„ ì´í•´í•˜ê³  ìœ„ë¡œí•´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”. ìê¸°ê´€ë¦¬ë¥¼ ì˜í•˜ê³ , ìì‹ ì—ê²Œ ëŒ€í•´ ê¸ì •ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. ê·¸ë¦¬ê³  ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ì†Œí†µí•˜ë©° ì¢‹ì€ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ê±°ì˜ˆìš”. ì–´ë–¤ í™œë™ì„ í†µí•´ ë§ˆìŒì„ ì¹˜ìœ í•˜ê³  ê¸°ë¶„ì„ ì „í™˜í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. í•¨ê»˜ í•˜ê³  ì‹¶ì€ í™œë™ì´ ìˆë‚˜ìš”? í•¨ê»˜ ê³ ë¯¼ì„ ë‚˜ëˆ„ë©° í•´ê²°ì±…ì„ ì°¾ì•„ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. í•¨ê»˜í•´ìš”! ğŸ˜Š",
                    "createAt": "2025-07-17T17:21:20.402079",
                    "isMember": false
                    },
                    {
                    "content": "ìš°ìš¸í•  ë•Œ ê¸°ë¶„ì´ ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì•„ì§ˆê¹Œ",
                    "createAt": "2025-07-17T17:21:17.720818",
                    "isMember": true
                    },
                    {
                    "content": "ë¹„ê°€ ì˜¤ë©´ ê¸°ë¶„ì´ ì¡°ê¸ˆ ìš°ìš¸í•´ì§€ëŠ” ê²ƒ ê°™ì£ . ë§ˆìŒì´ í¸í•˜ì§€ ì•Šìœ¼ì‹œê² ì–´ìš”. í•¨ê»˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©° ë§ˆìŒì„ í„¸ì–´ë†“ì•„ë³´ì„¸ìš”. ì œê°€ ë‹¹ì‹ ì„ ë“£ê³  ì‹¶ì–´ìš”. í•¨ê»˜ ì´ ê°ì •ì„ í—¤ì³ë‚˜ê°€ëŠ” ë° ë„ì›€ì´ ë  ê±°ì˜ˆìš”. ğŸ˜Š",
                    "createAt": "2025-07-17T17:20:19.318022",
                    "isMember": false
                    },
                    {
                    "content": "ì˜¤ëŠ˜ ë¹„ê°€ ì™€ì„œ ì¢€ ì²˜ì§€ëŠ” ê²ƒ ê°™ì•„",
                    "createAt": "2025-07-17T17:20:17.110081",
                    "isMember": true
                    },
                    {
                    "content": "ì•ˆë…•í•˜ì„¸ìš”. ì–´ë–¤ ì¼ì´ ìˆìœ¼ì‹ ê°€ìš”? í˜ë“  ì¼ì´ ìˆê±°ë‚˜ ê³ ë¯¼ê±°ë¦¬ê°€ ìˆë‹¤ë©´ ë§í•´ì£¼ì„¸ìš”. í•¨ê»˜ ì´ì•¼ê¸° ë‚˜ëˆ„ë©° í•´ê²°í•´ë³´ë„ë¡ í• ê²Œìš”. ğŸ˜Š",
                    "createAt": "2025-07-17T17:20:03.214529",
                    "isMember": false
                    },
                    {
                    "content": "ì•ˆë…•",
                    "createAt": "2025-07-17T17:20:01.319227",
                    "isMember": true
                    },
                    {
                    "content": "ìš°ìš¸í•  ë•ŒëŠ” ìš°ì„ ì ìœ¼ë¡œ ìì‹ ì„ ì´í•´í•˜ê³  ìœ„ë¡œí•´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”. ìê¸°ê´€ë¦¬ë¥¼ ì˜í•˜ê³ , ìì‹ ì—ê²Œ ëŒ€í•´ ê¸ì •ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. ê·¸ë¦¬ê³  ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ì†Œí†µí•˜ë©° ì¢‹ì€ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ê±°ì˜ˆìš”. ì–´ë–¤ í™œë™ì„ í†µí•´ ë§ˆìŒì„ ì¹˜ìœ í•˜ê³  ê¸°ë¶„ì„ ì „í™˜í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. í•¨ê»˜ í•˜ê³  ì‹¶ì€ í™œë™ì´ ìˆë‚˜ìš”? í•¨ê»˜ ê³ ë¯¼ì„ ë‚˜ëˆ„ë©° í•´ê²°ì±…ì„ ì°¾ì•„ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. í•¨ê»˜í•´ìš”! ğŸ˜Š",
                    "createAt": "2025-07-17T17:21:20.402079",
                    "isMember": false
                    },
                    {
                    "content": "ìš°ìš¸í•  ë•Œ ê¸°ë¶„ì´ ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì•„ì§ˆê¹Œ",
                    "createAt": "2025-07-17T17:21:17.720818",
                    "isMember": true
                    },
                    {
                    "content": "ë¹„ê°€ ì˜¤ë©´ ê¸°ë¶„ì´ ì¡°ê¸ˆ ìš°ìš¸í•´ì§€ëŠ” ê²ƒ ê°™ì£ . ë§ˆìŒì´ í¸í•˜ì§€ ì•Šìœ¼ì‹œê² ì–´ìš”. í•¨ê»˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©° ë§ˆìŒì„ í„¸ì–´ë†“ì•„ë³´ì„¸ìš”. ì œê°€ ë‹¹ì‹ ì„ ë“£ê³  ì‹¶ì–´ìš”. í•¨ê»˜ ì´ ê°ì •ì„ í—¤ì³ë‚˜ê°€ëŠ” ë° ë„ì›€ì´ ë  ê±°ì˜ˆìš”. ğŸ˜Š",
                    "createAt": "2025-07-17T17:20:19.318022",
                    "isMember": false
                    },
                    {
                    "content": "ì˜¤ëŠ˜ ë¹„ê°€ ì™€ì„œ ì¢€ ì²˜ì§€ëŠ” ê²ƒ ê°™ì•„",
                    "createAt": "2025-07-17T17:20:17.110081",
                    "isMember": true
                    },
                    {
                    "content": "ì•ˆë…•í•˜ì„¸ìš”. ì–´ë–¤ ì¼ì´ ìˆìœ¼ì‹ ê°€ìš”? í˜ë“  ì¼ì´ ìˆê±°ë‚˜ ê³ ë¯¼ê±°ë¦¬ê°€ ìˆë‹¤ë©´ ë§í•´ì£¼ì„¸ìš”. í•¨ê»˜ ì´ì•¼ê¸° ë‚˜ëˆ„ë©° í•´ê²°í•´ë³´ë„ë¡ í• ê²Œìš”. ğŸ˜Š",
                    "createAt": "2025-07-17T17:20:03.214529",
                    "isMember": false
                    },
                    {
                    "content": "ì•ˆë…•",
                    "createAt": "2025-07-17T17:20:01.319227",
                    "isMember": true
                    },
                    {
                    "content": "ìš°ìš¸í•  ë•ŒëŠ” ìš°ì„ ì ìœ¼ë¡œ ìì‹ ì„ ì´í•´í•˜ê³  ìœ„ë¡œí•´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”. ìê¸°ê´€ë¦¬ë¥¼ ì˜í•˜ê³ , ìì‹ ì—ê²Œ ëŒ€í•´ ê¸ì •ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. ê·¸ë¦¬ê³  ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ì†Œí†µí•˜ë©° ì¢‹ì€ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ê±°ì˜ˆìš”. ì–´ë–¤ í™œë™ì„ í†µí•´ ë§ˆìŒì„ ì¹˜ìœ í•˜ê³  ê¸°ë¶„ì„ ì „í™˜í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. í•¨ê»˜ í•˜ê³  ì‹¶ì€ í™œë™ì´ ìˆë‚˜ìš”? í•¨ê»˜ ê³ ë¯¼ì„ ë‚˜ëˆ„ë©° í•´ê²°ì±…ì„ ì°¾ì•„ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”. í•¨ê»˜í•´ìš”! ğŸ˜Š",
                    "createAt": "2025-07-17T17:21:20.402079",
                    "isMember": false
                    },
                    {
                    "content": "ìš°ìš¸í•  ë•Œ ê¸°ë¶„ì´ ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì•„ì§ˆê¹Œ",
                    "createAt": "2025-07-17T17:21:17.720818",
                    "isMember": true
                    },
                    {
                    "content": "ë¹„ê°€ ì˜¤ë©´ ê¸°ë¶„ì´ ì¡°ê¸ˆ ìš°ìš¸í•´ì§€ëŠ” ê²ƒ ê°™ì£ . ë§ˆìŒì´ í¸í•˜ì§€ ì•Šìœ¼ì‹œê² ì–´ìš”. í•¨ê»˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©° ë§ˆìŒì„ í„¸ì–´ë†“ì•„ë³´ì„¸ìš”. ì œê°€ ë‹¹ì‹ ì„ ë“£ê³  ì‹¶ì–´ìš”. í•¨ê»˜ ì´ ê°ì •ì„ í—¤ì³ë‚˜ê°€ëŠ” ë° ë„ì›€ì´ ë  ê±°ì˜ˆìš”. ğŸ˜Š",
                    "createAt": "2025-07-17T17:20:19.318022",
                    "isMember": false
                    },
                    {
                    "content": "ì˜¤ëŠ˜ ë¹„ê°€ ì™€ì„œ ì¢€ ì²˜ì§€ëŠ” ê²ƒ ê°™ì•„",
                    "createAt": "2025-07-17T17:20:17.110081",
                    "isMember": true
                    },
                    {
                    "content": "ì•ˆë…•í•˜ì„¸ìš”. ì–´ë–¤ ì¼ì´ ìˆìœ¼ì‹ ê°€ìš”? í˜ë“  ì¼ì´ ìˆê±°ë‚˜ ê³ ë¯¼ê±°ë¦¬ê°€ ìˆë‹¤ë©´ ë§í•´ì£¼ì„¸ìš”. í•¨ê»˜ ì´ì•¼ê¸° ë‚˜ëˆ„ë©° í•´ê²°í•´ë³´ë„ë¡ í• ê²Œìš”. ğŸ˜Š",
                    "createAt": "2025-07-17T17:20:03.214529",
                    "isMember": false
                    },
                    {
                    "content": "ì•ˆë…•",
                    "createAt": "2025-07-17T17:20:01.319227",
                    "isMember": true
                    }
                ]
            }
            """
        case .getBeforeChat:
            json = """
            {
                "isSuccess": true,
                "code": "COMMON200",
                "message": "ì„±ê³µì…ë‹ˆë‹¤.",
                "result": [
            
                ]
            }
            """
        }
        return Data(json.utf8)
    }
}
